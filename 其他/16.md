# 编译原理 ast

## start

说一下 vue2 源码，编译原理主要内容：

1. 配置项中的 template => ast；
2. 优化 optimize, 对 ast 中静态文本和静态根节点做标记；
3. 依据 ast 生成可执行的 render 函数
   我们传入的 template 其实就是一个字符串

以字符串的视角借助正则，将字符串转换为 抽象语法树的 ast 的

模板=》抽象语法树=》h 函数=》虚拟节点=》patch=》真实 DOM

为什么要转换成抽象语法树，因为模板中带了很多 Vue 自身的指令，需要解析、

抽象语法树借助 h 函数，转换为虚拟节点。

需要注意一下，我们在 单文件的 vue 中的 <template></template> 是通过 vue-loader 处理的。
模板编译处理的是 option 中的 template 配置

主要核心 prese=》 praseHtml（就是以字符串的角度去解析我们的模板生成一个 ast 对象）
